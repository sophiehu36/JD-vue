{"version":3,"sources":["webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?d444","webpack:///./src/views/register/Register.vue","webpack:///./src/views/register/Register.vue?9df6","webpack:///./src/views/register/Register.vue?96ea","webpack:///./src/components/Toast.vue?e4c0","webpack:///./src/assets/imgs/user.png"],"names":["class","message","name","props","toastData","showToast","toastMsg","msg","setTimeout","render","__scopeId","src","alt","type","placeholder","username","password","autocomplete","confirmPassword","handleRegister","handleLoginClick","router","data","value","result","console","log","errno","push","components","Toast","setup","module","exports"],"mappings":"2OACOA,MAAM,S,wEAAX,eAAsC,MAAtC,EAAsC,eAAhB,EAAAC,SAAO,M,YAMhB,GACbC,KAAM,QACNC,MAAO,CAAC,YAIG,EAAiB,WAC5B,IAAMC,EAAY,eAAS,CACzBC,WAAW,EACXC,SAAU,KAEND,EAAY,SAAAE,GAChBH,EAAUC,WAAY,EACtBD,EAAUE,SAAWC,EACrBC,YAAW,WACTJ,EAAUC,WAAY,EACtBD,EAAUE,SAAW,KACpB,MAEL,MAAO,CAAEF,YAAWC,c,UCrBtB,EAAOI,OAAS,EAChB,EAAOC,UAAY,kBAEJ,U,6JCPRV,MAAM,W,EACT,eAEM,OAFDA,MAAM,QAAM,CACf,eAAoE,OAA/DA,MAAM,eAAeW,IAAA,IAAiCC,IAAI,O,MAE5DZ,MAAM,S,GACJA,MAAM,oB,GAGNA,MAAM,oB,GAQNA,MAAM,oB,GAQRA,MAAM,U,GAIJA,MAAM,iB,sGA5Bf,eAiCM,MAjCN,EAiCM,CAhCJ,EAGA,eAmBM,MAnBN,EAmBM,CAlBJ,eAEM,MAFN,EAEM,C,eADJ,eAA6D,SAAtDa,KAAK,OAAOC,YAAY,S,qDAAkB,EAAAC,SAAQ,K,mBAAR,EAAAA,cAEnD,eAOM,MAPN,EAOM,C,eANJ,eAKE,SAJAF,KAAK,WACLC,YAAY,Q,qDACH,EAAAE,SAAQ,IACjBC,aAAa,gB,mBADJ,EAAAD,cAIb,eAMM,MANN,EAMM,C,eALJ,eAIE,SAHAH,KAAK,WACLC,YAAY,O,qDACH,EAAAI,gBAAe,K,mBAAf,EAAAA,uBAIf,eAOM,MAPN,EAOM,CANJ,eAEM,OAFDlB,MAAM,mBAAoB,QAAK,8BAAE,EAAAmB,eAAA,sBAAgB,QAGtD,eAEM,MAFN,EAEM,CADJ,eAA8C,QAAvC,QAAK,8BAAE,EAAAC,iBAAA,sBAAkB,eAGvB,EAAAhB,UAAUC,W,iBAAvB,eAAkE,G,MAA/BJ,QAAS,EAAAG,UAAUE,U,4GAYpD,EAAoB,SAAAD,GACxB,IAAMgB,EAAS,iBACTC,EAAO,eAAS,CACpBP,SAAU,GACVC,SAAU,GACVE,gBAAiB,KALkB,EAOW,eAAOI,GAA/CP,EAP6B,EAO7BA,SAAUC,EAPmB,EAOnBA,SAAUE,EAPS,EAOTA,gBACtBC,EAAa,yDAAI,uGACjBH,EAASO,QAAUL,EAAgBK,MADlB,gBAEnBlB,EAAU,WAFS,gDAKI,eAAK,qBAAsB,CAC9CU,SAAUA,EAASQ,MACnBP,SAAUA,EAASO,QAPJ,OAKXC,EALW,OASjBC,QAAQC,IAAIF,GACU,KAAZ,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQG,OACVN,EAAOO,KAAK,CAAE1B,KAAM,UAEpBG,EAAU,QAbK,qDAgBjBA,EAAU,QAhBO,0DAAJ,qDAqBnB,MAAO,CAAEU,WAAUC,WAAUE,kBAAiBC,mBAGjC,GACbjB,KAAM,QACN2B,WAAY,CAAEC,QAAA,MACdC,MAHa,WAIX,IAAMV,EAAS,iBADT,EAG2B,iBAAzBjB,EAHF,EAGEA,UAAWC,EAHb,EAGaA,UAHb,EASF,EAAkBA,GAJpBU,EALI,EAKJA,SACAC,EANI,EAMJA,SACAE,EAPI,EAOJA,gBACAC,EARI,EAQJA,eAGIC,EAAmB,WACvBC,EAAOO,KAAK,CAAE1B,KAAM,WAGtB,MAAO,CACLkB,mBACAD,iBACAJ,WACAC,WACAE,kBACAd,e,UChGN,EAAOK,OAAS,EAChB,EAAOC,UAAY,kBAEJ,gB,2DCRf,W,kCCAA,W,uBCAAsB,EAAOC,QAAU,IAA0B,yB","file":"js/register.6d358a23.js","sourcesContent":["<template>\r\n  <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"@vue/reactivity\";\r\n\r\nexport default {\r\n  name: \"Toast\",\r\n  props: [\"message\"]\r\n};\r\n\r\n// 管理toast相关的属性和方法\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({\r\n    showToast: false,\r\n    toastMsg: \"\"\r\n  });\r\n  const showToast = msg => {\r\n    toastData.showToast = true;\r\n    toastData.toastMsg = msg;\r\n    setTimeout(() => {\r\n      toastData.showToast = false;\r\n      toastData.toastMsg = \"\";\r\n    }, 2000);\r\n  };\r\n  return { toastData, showToast };\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toast {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%);\r\n  padding: 0.14rem;\r\n  border-radius: 0.05rem;\r\n  background: rgba(0, 0, 0, 0.35);\r\n  color: #fff;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=47bcef02&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=47bcef02&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-47bcef02\"\n\nexport default script","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"user\">\r\n      <img class=\"user__avatar\" src=\"../../assets/imgs/user.png\" alt=\"\" />\r\n    </div>\r\n    <div class=\"input\">\r\n      <div class=\"input__container\">\r\n        <input type=\"text\" placeholder=\"请输入用户名\" v-model=\"username\" />\r\n      </div>\r\n      <div class=\"input__container\">\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"请输入密码\"\r\n          v-model=\"password\"\r\n          autocomplete=\"new-password\"\r\n        />\r\n      </div>\r\n      <div class=\"input__container\">\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"确认密码\"\r\n          v-model=\"confirmPassword\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"button\">\r\n      <div class=\"button__register\" @click=\"handleRegister\">\r\n        注册\r\n      </div>\r\n      <div class=\"button__other\">\r\n        <span @click=\"handleLoginClick\">已有账号去登陆</span>\r\n      </div>\r\n    </div>\r\n    <Toast v-if=\"toastData.showToast\" :message=\"toastData.toastMsg\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 系统级别的引用放在顶部\r\nimport { reactive, toRefs } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n// 自己写的引用放在下面\r\nimport { post } from \"@/utils/request\";\r\nimport Toast, { useToastEffect } from \"@/components/Toast\";\r\n\r\nconst useRegisterEffect = showToast => {\r\n  const router = useRouter();\r\n  const data = reactive({\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\"\r\n  });\r\n  const { username, password, confirmPassword } = toRefs(data);\r\n  const handleRegister = async () => {\r\n    if (password.value !== confirmPassword.value) {\r\n      showToast(\"请重新确认密码\");\r\n    } else {\r\n      try {\r\n        const result = await post(\"/api/user/register\", {\r\n          username: username.value,\r\n          password: password.value\r\n        });\r\n        console.log(result);\r\n        if (result?.errno === 0) {\r\n          router.push({ name: \"Login\" });\r\n        } else {\r\n          showToast(\"注册失败\");\r\n        }\r\n      } catch (e) {\r\n        showToast(\"请求失败\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return { username, password, confirmPassword, handleRegister };\r\n};\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: { Toast },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const { toastData, showToast } = useToastEffect();\r\n    const {\r\n      username,\r\n      password,\r\n      confirmPassword,\r\n      handleRegister\r\n    } = useRegisterEffect(showToast);\r\n\r\n    const handleLoginClick = () => {\r\n      router.push({ name: \"Login\" });\r\n    };\r\n\r\n    return {\r\n      handleLoginClick,\r\n      handleRegister,\r\n      username,\r\n      password,\r\n      confirmPassword,\r\n      toastData\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  padding-top: 1.4rem;\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.user {\r\n  margin-bottom: 0.4rem;\r\n  &__avatar {\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n  }\r\n}\r\n\r\n.input {\r\n  &__container {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 2.95rem;\r\n    height: 0.48rem;\r\n    background: #f9f9f9;\r\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    margin-bottom: 0.16rem;\r\n    input {\r\n      width: 100%;\r\n      line-height: 0.24rem;\r\n      box-sizing: border-box;\r\n      font-size: 0.16rem;\r\n      padding-left: 0.16rem;\r\n      border: none;\r\n      background: transparent;\r\n      &:focus-visible {\r\n        outline: none;\r\n      }\r\n      &::placeholder {\r\n        color: rgba(0, 0, 0, 0.5);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.button {\r\n  margin-top: 0.16rem;\r\n  &__register {\r\n    width: 2.95rem;\r\n    height: 0.48rem;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    line-height: 0.48rem;\r\n    text-align: center;\r\n    background: #0091ff;\r\n    color: white;\r\n    font-size: 0.16rem;\r\n  }\r\n  &__other {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-top: 0.16rem;\r\n    font-size: 0.14rem;\r\n    color: rgba(0, 0, 0, 0.5);\r\n    &__gap {\r\n      margin: 0 0.12rem;\r\n      font-size: 0.12rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=54d367fb&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=54d367fb&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-54d367fb\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=54d367fb&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Toast.vue?vue&type=style&index=0&id=47bcef02&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/user.f605787e.png\";"],"sourceRoot":""}