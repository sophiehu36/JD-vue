(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0eb4":function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));var n=a("7a23"),s=Object(n["I"])("data-v-47bcef02");Object(n["t"])("data-v-47bcef02");var c={class:"toast"};Object(n["r"])();var o=s((function(e,t,a,s,o,r){return Object(n["q"])(),Object(n["d"])("div",c,Object(n["z"])(a.message),1)})),r=a("a1e9"),u={name:"Toast",props:["message"]},i=function(){var e=Object(r["i"])({showToast:!1,toastMsg:""}),t=function(t){e.showToast=!0,e.toastMsg=t,setTimeout((function(){e.showToast=!1,e.toastMsg=""}),2e3)};return{toastData:e,showToast:t}};a("9871");u.render=o,u.__scopeId="data-v-47bcef02";t["a"]=u},8422:function(e,t,a){},9871:function(e,t,a){"use strict";a("8422")},"9ace":function(e,t,a){e.exports=a.p+"img/user.f605787e.png"},c1ad:function(e,t,a){},ede4:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),s=a("9ace"),c=a.n(s),o=Object(n["I"])("data-v-3e57e521");Object(n["t"])("data-v-3e57e521");var r={class:"wrapper"},u=Object(n["h"])("div",{class:"user"},[Object(n["h"])("img",{class:"user__avatar",src:c.a,alt:""})],-1),i={class:"input"},l={class:"input__container"},d={class:"input__container"},b={class:"button"},p={class:"button__other"},j=Object(n["h"])("span",{class:"button__other__gap"},"|",-1),O=Object(n["h"])("span",null,"忘记密码",-1);Object(n["r"])();var v=o((function(e,t,a,s,c,o){var v=Object(n["x"])("Toast");return Object(n["q"])(),Object(n["d"])("div",r,[u,Object(n["h"])("div",i,[Object(n["h"])("div",l,[Object(n["G"])(Object(n["h"])("input",{type:"text",placeholder:"请输入用户名","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.username=e})},null,512),[[n["C"],s.username]])]),Object(n["h"])("div",d,[Object(n["G"])(Object(n["h"])("input",{type:"password",placeholder:"请输入密码","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.password=e})},null,512),[[n["C"],s.password]])])]),Object(n["h"])("div",b,[Object(n["h"])("div",{class:"button__login",onClick:t[3]||(t[3]=function(){return s.handleLogin.apply(s,arguments)})}," 登陆 "),Object(n["h"])("div",p,[Object(n["h"])("span",{onClick:t[4]||(t[4]=function(){return s.handleRegisterClick.apply(s,arguments)})},"立即注册"),j,O])]),s.toastData.showToast?(Object(n["q"])(),Object(n["d"])(v,{key:0,message:s.toastData.toastMsg},null,8,["message"])):Object(n["e"])("",!0)])})),h=(a("96cf"),a("1da1")),f=a("6c02"),g=a("b775"),m=a("0eb4"),w=function(e){var t=Object(f["d"])(),a=Object(n["u"])({username:"",password:""}),s=Object(n["A"])(a),c=s.username,o=s.password,r=function(){var a=Object(h["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""===c.value||""===o.value){a.next=15;break}return console.log("username:",c,"password:",o),a.prev=2,a.next=5,Object(g["b"])("/api/user/login",{username:c.value,password:o.value});case 5:n=a.sent,console.log(n),0===(null===n||void 0===n?void 0:n.errno)?(localStorage.isLogin=!0,t.push({name:"Home"})):e("登录失败"),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),e("请求失败");case 13:a.next=16;break;case 15:e("请输入用户名和密码");case 16:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(){return a.apply(this,arguments)}}();return{username:c,password:o,handleLogin:r}},_={name:"Login",components:{Toast:m["a"]},setup:function(){var e=Object(f["d"])(),t=Object(m["b"])(),a=t.toastData,n=t.showToast,s=w(n),c=s.username,o=s.password,r=s.handleLogin,u=function(){e.push({name:"Register"})};return{handleLogin:r,handleRegisterClick:u,username:c,password:o,toastData:a}}};a("f843");_.render=v,_.__scopeId="data-v-3e57e521";t["default"]=_},f843:function(e,t,a){"use strict";a("c1ad")}}]);
//# sourceMappingURL=login.cc1b8d4f.js.map